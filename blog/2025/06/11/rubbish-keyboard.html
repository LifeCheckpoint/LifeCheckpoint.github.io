<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">制作一个最难用的键盘 | Life_Checkpoint&#x27;s Blog</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="制作一个最难用的键盘 | Life_Checkpoint&#x27;s Blog"><meta data-rh="true" name="description" content="如果把“最难用”定义为“移动距离最大”，似乎我们能找到一些方案排布一个最难用的键盘…"><meta data-rh="true" property="og:description" content="如果把“最难用”定义为“移动距离最大”，似乎我们能找到一些方案排布一个最难用的键盘…"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2025-06-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/LifeCheckpoint"><meta data-rh="true" property="article:tag" content="algo"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard"><link data-rh="true" rel="alternate" href="https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard" hreflang="en"><link data-rh="true" rel="alternate" href="https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard","mainEntityOfPage":"https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard","url":"https://lifecheckpoint.github.io/blog/2025/06/11/rubbish-keyboard","headline":"制作一个最难用的键盘","name":"制作一个最难用的键盘","description":"如果把“最难用”定义为“移动距离最大”，似乎我们能找到一些方案排布一个最难用的键盘…","datePublished":"2025-06-11T00:00:00.000Z","author":{"@type":"Person","name":"Life_Checkpoint","description":"SUSTech","url":"https://github.com/LifeCheckpoint","image":"https://avatars.githubusercontent.com/u/59783101?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://lifecheckpoint.github.io/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Life_Checkpoint&#39;s Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Life_Checkpoint&#39;s Blog Atom Feed">






<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.min.css" crossorigin="anonymous">
<script src="/js/prism-mathematica.js" async></script><link rel="stylesheet" href="/assets/css/styles.54ca3038.css">
<script src="/assets/js/runtime~main.df985833.js" defer="defer"></script>
<script src="/assets/js/main.000d197f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><b class="navbar__title text--truncate">Lchpt.blog</b></a><a class="navbar__item navbar__link" href="/docs/intro">文档 / 文字的力量</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog / 碎碎念</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/LifeCheckpoint" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2025</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/06/18/thinking">还是碎碎念...</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/06/16/linear-algebra">我超，线代</a></li><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/2025/06/11/rubbish-keyboard">制作一个最难用的键盘</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/04/02/galgame-text-analyze">与 Gemini 2.5 Pro 讨论 Galgame 文本解读</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/2025/03/16/thinking">最近的小事儿</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">制作一个最难用的键盘</h1><div class="container_mt6G margin-vert--md"><time datetime="2025-06-11T00:00:00.000Z">June 11, 2025</time> · <!-- -->6 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/LifeCheckpoint" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/59783101?v=4" alt="Life_Checkpoint"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/LifeCheckpoint" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Life_Checkpoint</span></a></div><small class="authorTitle_nd0D" title="SUSTech">SUSTech</small><div class="authorSocials_rSDt"><a href="https://github.com/LifeCheckpoint" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>如果把“最难用”定义为“移动距离最大”，似乎我们能找到一些方案排布一个最难用的键盘…</p>
<hr>
<p>心血来潮试图设计一个最难用的键盘（装键盘之余的突发奇想</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="最难用">“最难用”<a href="#最难用" class="hash-link" aria-label="Direct link to “最难用”" title="Direct link to “最难用”">​</a></h2>
<p>说实话这是整个流程里最难的一个部分了——怎么定义“最难用”？</p>
<p>从 AI 的整理和分析我们能窥见一二：</p>
<blockquote>
<p><strong>最困难的几种打字模式及其影响：</strong></p>
<ol>
<li><strong>单指连续按键 (Same-finger bigrams/trigrams):</strong>
<ul>
<li><strong>模式：</strong> 使用同一个手指连续按下两个或更多按键（例如，在标准QWERTY键盘上用食指连续按 &quot;ju&quot; 或 &quot;mn&quot;）。</li>
<li><strong>影响：</strong> 严重降低速度。同一个手指需要快速抬起、微调位置并再次按下，这比使用不同手指或不同手的切换慢得多。它增加了手指的负担和疲劳，容易出错，并且破坏打字节奏。</li>
</ul>
</li>
<li><strong>同手相邻手指按键 (Adjacent-finger bigrams on the same hand):</strong>
<ul>
<li><strong>模式：</strong> 使用同一只手的两个相邻手指连续按键（例如，在QWERTY上用右手无名指和中指按 &quot;kl&quot;）。</li>
<li><strong>影响：</strong> 相对较慢且容易出错。虽然使用了不同的手指，但由于手指紧挨着，容易发生误触或需要更精确的控制，尤其是在非主行位置。不如双手交替或同手跨行流畅。</li>
</ul>
</li>
<li><strong>同手同排连续按键 (Consecutive keys on the same row with the same hand):</strong>
<ul>
<li><strong>模式：</strong> 同一只手在同一排上连续按下多个按键，需要手指 进行较大的横向移动（例如，在QWERTY上用左手按 &quot;as&quot; 或 &quot;fg&quot;）。</li>
<li><strong>影响：</strong> 速度中等偏慢。虽然使用了不同手指，但横向移动比纵向移动（跨行）或双手交替效率低。长时间或频繁出现会增加手部疲劳。</li>
</ul>
</li>
<li><strong>需要大跨度或别扭姿势的按键 (Keys requiring large stretches or awkward postures):</strong>
<ul>
<li><strong>模式：</strong> 按下需要手指进行较大伸展或导致手腕、手指姿势不自然的按键组合（例如，在QWERTY上用左手食指去按 &#x27;b&#x27; 或 &#x27;g&#x27;，或者用小指去按远处的符号键）。</li>
<li><strong>影响：</strong> 显著降低速度和准确性。大跨度增加了移动时间和错误率，别扭姿势会增加肌肉紧张和疲劳，长期可能导致重复性劳损。</li>
</ul>
</li>
</ol>
<p><strong>最简单的几种打字模式及其影响：</strong></p>
<ol>
<li><strong>双手交替按键 (Hand alternation):</strong>
<ul>
<li><strong>模式：</strong> 连续的按键由左右手轮流完成（例如，在QWERTY上按 &quot;the&quot;, &quot;and&quot;, &quot;is&quot;）。</li>
<li><strong>影响：</strong> 通常是最快、最流畅的模式。当一只手按下按键时，另一只手已经准备好或正在移动到下一个按键位置。这种并行处理大大提高了效率，减少了单手的负担，维持了良好的打字节奏。</li>
</ul>
</li>
<li><strong>同手跨行按键 (Row alternation within the same hand):</strong>
<ul>
<li><strong>模式：</strong> 同一只手连续按下的按键位于不同的行上（例如，在QWERTY上用左手按 &quot;ed&quot;, &quot;rf&quot;, &quot;uj&quot;）。</li>
<li><strong>影响：</strong> 速度较快。手指进行的是纵向移动，通常比同排的横向移动更直接和高效，尤其是在手指回位到主行时。</li>
</ul>
</li>
<li><strong>靠近主行的按键 (Keys close to the home row):</strong>
<ul>
<li><strong>模式 ：</strong> 连续按下的按键都位于或非常接近键盘的主行（ASDF JKL;）。</li>
<li><strong>影响：</strong> 速度快。手指移动距离最短，减少了寻找和定位按键的时间，是打字效率的基础。</li>
</ul>
</li>
<li><strong>手指负荷均衡 (Balanced finger load):</strong>
<ul>
<li><strong>模式：</strong> 文本中字母的出现频率使得打字任务相对均匀地分配到各个手指上，避免某个手指过度劳累。</li>
<li><strong>影响：</strong> 有助于维持长时间高速打字，减少疲劳和错误。</li>
</ul>
</li>
</ol>
<p>总而言之，理论研究表明，打字速度受到按键模式的显著影响。那些需要重复使用同一手指、同手进行复杂或大范围移动、或导致别扭姿势的模式会降低速度并增加疲劳和错误。而那些允许双手交替、同手进行简单跨行移动、或保持手指在主行附近的模式则能显著提高速度和效率。这也是为什么一些替代键盘布局（如Dvorak、Colemak等）会通过优化字母位置来最大化双手交替和减少困难模式的出现频率，以期提高打字速度和舒适度。</p>
</blockquote>
<p>一开始我也没想那么多，所以就直接定义为“移动距离尽可能长”…</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="建模分析">建模分析<a href="#建模分析" class="hash-link" aria-label="Direct link to 建模分析" title="Direct link to 建模分析">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="转移概率">转移概率<a href="#转移概率" class="hash-link" aria-label="Direct link to 转移概率" title="Direct link to 转移概率">​</a></h3>
<p>考虑键盘上不同按键之间的转移概率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\omega_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span>，这样我们在计算移动距离的时候可以考虑到常见/罕见组合因素。例如 <code>a-&gt;z</code> 的概率 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mrow><mi>a</mi><mi>z</mi></mrow></msub><mo>=</mo><mn>0.00012742</mn></mrow><annotation encoding="application/x-tex">\omega_{az}=0.00012742</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5806em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">a</span><span class="mord mathnormal mtight" style="margin-right:0.04398em">z</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">0.00012742</span></span></span></span></p>
<p>一开始想找一些自然文本输入的数据集，但是这类高隐私泄露风险的数据集少之又少，只能从现有的英文文本中计算字符的转移概率，用以模拟一个人的键盘按键转移矩阵</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="优化问题">优化问题<a href="#优化问题" class="hash-link" aria-label="Direct link to 优化问题" title="Direct link to 优化问题">​</a></h3>
<p>容易知道可以通过如下公式计算代价</p>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mo>−</mo><mi>S</mi><mo>=</mo><munderover><mo>∑</mo><mrow><mi>i</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><munderover><mo>∑</mo><mrow><mi>j</mi><mo>=</mo><mn>1</mn></mrow><mi>n</mi></munderover><msub><mi>ω</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub><mo>⋅</mo><mi>d</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">-S=\sum_{i=1}^n \sum_{j=1}^n \omega_{ij}\cdot d(p_i,p_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord">−</span><span class="mord mathnormal" style="margin-right:0.05764em">S</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:3.0652em;vertical-align:-1.4138em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">i</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.2777em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mop op-limits"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.6514em"><span style="top:-1.8723em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span><span class="mrel mtight">=</span><span class="mord mtight">1</span></span></span></span><span style="top:-3.05em"><span class="pstrut" style="height:3.05em"></span><span><span class="mop op-symbol large-op">∑</span></span></span><span style="top:-4.3em;margin-left:0em"><span class="pstrut" style="height:3.05em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:1.4138em"><span></span></span></span></span></span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span>
<p>其中，</p>
<ul>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.05764em">S</span></span></span></span> 是总代价，这里定义为负表示目标是增加复杂度，优化目标是最小化它</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>ω</mi><mrow><mi>i</mi><mi>j</mi></mrow></msub></mrow><annotation encoding="application/x-tex">\omega_{ij}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7167em;vertical-align:-0.2861em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">ω</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">ij</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span></span></span></span> 表示按键 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span></span></span></span> 的转移概率</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">d(p_i,p_j)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span></span></span></span> 表示两个按键被分配了位置后两者距离，具体来说，如果 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>i</mi></mrow><annotation encoding="application/x-tex">i</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6595em"></span><span class="mord mathnormal">i</span></span></span></span> 被分配到位置 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi></mrow><annotation encoding="application/x-tex">a</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal">a</span></span></span></span>，<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>j</mi></mrow><annotation encoding="application/x-tex">j</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.854em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.05724em">j</span></span></span></span> 被分配到位置 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>b</mi></mrow><annotation encoding="application/x-tex">b</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal">b</span></span></span></span>，则可用欧氏距离 <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>d</mi><mo stretchy="false">(</mo><msub><mi>p</mi><mi>i</mi></msub><mo separator="true">,</mo><msub><mi>p</mi><mi>j</mi></msub><mo stretchy="false">)</mo><mo>=</mo><msqrt><mrow><mo stretchy="false">(</mo><msub><mi>x</mi><mi>a</mi></msub><mo>−</mo><msub><mi>x</mi><mi>b</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><msub><mi>y</mi><mi>a</mi></msub><mo>−</mo><msub><mi>y</mi><mi>b</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup></mrow></msqrt></mrow><annotation encoding="application/x-tex">d(p_i,p_j)=\sqrt{(x_a-x_b)^2+(y_a-y_b)^2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.0361em;vertical-align:-0.2861em"></span><span class="mord mathnormal">d</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">i</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em"></span><span class="mord"><span class="mord mathnormal">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3117em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight" style="margin-right:0.05724em">j</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.2861em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1.24em;vertical-align:-0.305em"></span><span class="mord sqrt"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.935em"><span class="svg-align" style="top:-3.2em"><span class="pstrut" style="height:3.2em"></span><span class="mord" style="padding-left:1em"><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal">x</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.1514em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">a</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03588em">y</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.3361em"><span style="top:-2.55em;margin-left:-0.0359em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">b</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7401em"><span style="top:-2.989em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span><span style="top:-2.895em"><span class="pstrut" style="height:3.2em"></span><span class="hide-tail" style="min-width:1.02em;height:1.28em"><svg xmlns="http://www.w3.org/2000/svg" width="400em" height="1.28em" viewBox="0 0 400000 1296" preserveAspectRatio="xMinYMin slice"><path d="M263,681c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l0 -0
c4.7,-7.3,11,-11,19,-11
H40000v40H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M1001 80h400000v40h-400000z"></path></svg></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.305em"><span></span></span></span></span></span></span></span></span> 衡量</li>
</ul>
<p>这个问题其实本质上是一个二次分配问题（Quadratic Assignment Problem, QAP）的变体，而二次分配问题是一个 NP 难问题，因此求解需要用启发式算法</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="实际测量">实际测量<a href="#实际测量" class="hash-link" aria-label="Direct link to 实际测量" title="Direct link to 实际测量">​</a></h3>
<p>首先测量键盘尺寸，拍照后二值化，然后拉标尺看看坐标（好原始的方法（</p>
<p><img decoding="async" loading="lazy" alt="键盘坐标" src="/assets/images/keyboard-20f7d54445d064f9aa03502fa2954a75.png" width="4546" height="2243" class="img_ev3q"></p>
<p>得到的结果如下</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">key,x,y</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1,-110,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2,213.9,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3,555.7,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">4,876.6,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">5,1218.4,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">6,1539.3,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">7,1863.2,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">8,2181.0,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">9,2516.9,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">0,2840.7,395.9</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">q,75.9,725.8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">w,396.8,725.8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">e,738.7,725.8</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>然后是统计转移概率，这里从网络上下载了一个较小的英文文本数据集进行统计</p>
<div class="language-csv codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-csv codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">,0,1,2,3,4,5,6,7,8,9,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">0,0.40532103,0.18174463,0.08636485,0.04014347,0.04397880,0.04072323,0.03936622,0.03460073,0.03444146,0.02982250,0.00477823,0.00391177,0.00517323,0.00893847,0.00332565,0.00561282,0.00054790,0.00061798,0.00057976,0.00033129,0.00066258,0.00068806,0.00111492,0.00065621,0.00044597,0.00282871,0.00009556,0.00054790,0.00149081,0.00277137,0.00049694,0.00066895,0.00021661,0.01672379,0.00014016,0.00012742</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">1,0.18404262,0.10112592,0.09357758,0.06983367,0.07419468,0.07422920,0.07119145,0.06459816,0.10377245,0.12294823,0.00509743,0.00453936,0.00316432,0.00369362,0.00478100,0.00310103,0.00079971,0.00144983,0.00113916,0.00027041,0.00039698,0.00076519,0.00062711,0.00059259,0.00036246,0.00077670,0.00027616,0.00092628,0.00406184,0.00125422,0.00052930,0.00035671,0.00015534,0.00057533,0.00041999,0.00037397</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">2,0.36603905,0.08062518,0.07627670,0.07524304,0.06384609,0.07469057,0.05381250,0.04876897,0.04971352,0.04656799,0.00482076,0.00401878,0.00408116,0.01505039,0.00304750,0.00210296,0.00113168,0.00159504,0.00163959,0.00029406,0.00090890,0.00116732,0.00127425,0.00341285,0.00171979,0.00262869,0.00024950,0.00160395,0.00327919,0.00212969,0.00062376,0.00065049,0.00022277,0.00528412,0.00068613,0.00079306</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">3,0.17534959,0.11097561,0.09193496,0.08508943,0.07965854,0.07248780,0.08515447,0.06892683,0.06622764,0.06305691,0.00762602,0.00570732,0.00512195,0.01897561,0.00447154,0.00445528,0.00082927,0.00252033,0.00263415,0.00134959,0.00095935,0.00193496,0.00081301,0.00214634,0.00206504,0.00245528,0.00013008,0.00408130,0.00295935,0.00409756,0.00133333,0.00053659,0.00060163,0.02183740,0.00076423,0.00073171</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">4,0.14647687,0.10206406,0.08705643,0.09195730,0.07526182,0.08862227,0.08538892,0.06781901,0.08244026,0.09159126,0.01234367,0.00862227,0.00510422,0.00579563,0.00422979,0.00305033,0.00093543,0.00244026,0.00321301,0.00166751,0.00067107,0.00191154,0.00209456,0.00189120,0.00109812,0.00235892,0.00071174,0.00134215,0.00351805,0.01016777,0.00138282,0.00146416,0.00221657,0.00176919,0.00050839,0.00081342</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">5,0.22725085,0.08644676,0.08036574,0.07750022,0.07513781,0.09180593,0.07806895,0.06745997,0.07093796,0.06577566,0.00774346,0.00584041,0.01036836,0.00776533,0.00682474,0.00540292,0.00157494,0.00148744,0.00188118,0.00059060,0.00063435,0.00142182,0.00164056,0.00183743,0.00192493,0.00279990,0.00028436,0.00107183,0.00389360,0.00680287,0.00091872,0.00100621,0.00039374,0.00142182,0.00032811,0.00339050</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">6,0.16087041,0.08933488,0.08339371,0.07667971,0.09141187,0.07933633,0.08890016,0.08870695,0.08047143,0.08059218,0.00886345,0.00555475,0.00422644,0.01067478,0.00521664,0.00403323,0.00156982,0.00154567,0.00260832,0.00108680,0.00272907,0.00140076,0.00089359,0.00193209,0.00159397,0.00753514,0.00077283,0.00202869,0.00347776,0.00772835,0.00079699,0.00106265,0.00053132,0.00082114,0.00070038,0.00091774</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">7,0.11985990,0.10675833,0.07798677,0.08356466,0.08063303,0.11474899,0.08211182,0.08916850,0.08587365,0.08081463,0.01465819,0.00565573,0.00492930,0.00874303,0.00617460,0.00638215,0.00173823,0.00210144,0.00329485,0.00090803,0.00044104,0.00095992,0.00134907,0.00095992,0.00070048,0.00194578,0.00015566,0.00140096,0.00249060,0.00928785,0.00142690,0.00119341,0.00054482,0.00038916,0.00046699,0.00018161</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">8,0.19498343,0.08705231,0.06827553,0.07747191,0.07165090,0.09097340,0.07484437,0.08028135,0.08155469,0.09216590,0.00796346,0.00899426,0.00747837,0.01081332,0.00384025,0.00517423,0.00222330,0.00238499,0.00240521,0.00058614,0.00040424,0.00121271,0.00123292,0.00303177,0.00097017,0.00218288,0.00084890,0.00208182,0.00335516,0.00574016,0.00082868,0.00458808,0.00026275,0.00151589,0.00044466,0.00018191</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">9,0.11262609,0.08940251,0.09344862,0.09825223,0.06891328,0.07857592,0.06747219,0.06713964,0.08655729,0.14283339,0.00777815,0.00642944,0.00639249,0.00528397,0.00714998,0.00375051,0.00073902,0.00175516,0.00190297,0.00064664,0.00134870,0.00249418,0.00182907,0.00186602,0.00218010,0.00362118,0.00184754,0.00297454,0.00327015,0.01304364,0.00816613,0.00829546,0.00016628,0.00131175,0.00048036,0.00005543</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">a,0.00018706,0.00043260,0.00016963,0.00013788,0.00010728,0.00010031,0.00008869,0.00014059,0.00017080,0.00040201,0.00541472,0.02613246,0.05239737,0.03738907,0.00378383,0.00873380,0.02874900,0.00431520,0.04796328,0.00278423,0.00846115,0.10546785,0.03973489,0.17883199,0.00200075,0.02657087,0.00144343,0.11004137,0.07862743,0.14536967,0.03417610,0.02068715,0.00416919,0.00404642,0.01792034,0.00285162</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span><br></span></code></pre></div></div>
<p>最后模型的求解通过随机交换+模拟退火实现，退火过程中，有一定概率接受交换造成的代价上升</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="求解结果">求解结果<a href="#求解结果" class="hash-link" aria-label="Direct link to 求解结果" title="Direct link to 求解结果">​</a></h2>
<p><img decoding="async" loading="lazy" alt="最终键盘布局" src="/assets/images/opt_keyboard-8d9d825eaba155c32a70f69a5ed5b836.png" width="1116" height="462" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>这种东西就不要 Conclusion 了罢，其实细活儿都集中在设计距离函数上，要是考虑文本段/误击率甚至于中文拼音的重码…确实是个大活儿…</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" title="一些算法的想法" class="tag_zVej tagRegular_sFm0" href="/blog/tags/algo">algo</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/LifeCheckpoint/LifeCheckpoint.github.io/tree/main/blog/2025-06-11-rubbish-keyboard/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/blog/2025/06/16/linear-algebra"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">我超，线代</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/blog/2025/04/02/galgame-text-analyze"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">与 Gemini 2.5 Pro 讨论 Galgame 文本解读</div></a></nav><div style="margin-top:20px"></div></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#最难用" class="table-of-contents__link toc-highlight">“最难用”</a></li><li><a href="#建模分析" class="table-of-contents__link toc-highlight">建模分析</a><ul><li><a href="#转移概率" class="table-of-contents__link toc-highlight">转移概率</a></li><li><a href="#优化问题" class="table-of-contents__link toc-highlight">优化问题</a></li><li><a href="#实际测量" class="table-of-contents__link toc-highlight">实际测量</a></li></ul></li><li><a href="#求解结果" class="table-of-contents__link toc-highlight">求解结果</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div></div>
</body>
</html>